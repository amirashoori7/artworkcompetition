<link href="static/css/gallery.style.css" rel="stylesheet">
<script>
function readFiles(year) {
	$(".move-camera").parent().fadeOut()
			$(".gallery-home").fadeOut()
			$(".page-title>h2").html("Gallery "+ year)
			if($(".move-camera." + year).html().length > 10) {
				setTimeout(function(){
					$(".move-camera." + year).parent().fadeIn()
				},300)
				return
			}
			for (var i = 0; i < 25; i++) {
				if (i % 3 == 0) {
					var shelf = $("<div/>").addClass("shelf "+year)
					$("<div/>").addClass("face front").appendTo(shelf)
					$("<div/>").addClass("face top").appendTo(shelf)
					$("<div/>").addClass("face back").appendTo(shelf)
					$("<div/>").addClass("face left").appendTo(shelf)
					$("<div/>").addClass("face bottom").appendTo(shelf)
					shelf.appendTo($(".move-camera." + year))
				}
				var imgHolder = $("<a/>").attr("onclick","openImage(this)").addClass("photocard"),
				front = $(".face.front").last(),
				imgsrc = "";
				if (i < 9)
					imgsrc = year + "-0" + (i+1)
				else
					imgsrc = year + "-" + (i+1)
				$("<img/>").attr("src", "media/gallery/" + year + "/" + imgsrc + ".jpg").appendTo(imgHolder)
				imgHolder.appendTo(front)
			}
			
			$(".shelf."+year).each(function(i ,k){
				if(i == 0)
					$(k).css("top", parseInt($(".scene").position().top)
							+ $(".page-title").height()
							+ "px")
				else
					$(k).css("top", parseInt($(".scene").position().top)
						+ $(".page-title").height()
						+ (i * 222)
						+ "px")
			})
			setTimeout(function(){
				$(".move-camera." + year).parent().fadeIn()
			},300)
		}
		
		var TweenImage
		function showGallery() {
			$(".move-camera").parent().fadeOut()
			$(".gallery-home").fadeIn()
			$(".page-title>h2").html("Gallery")
		}
		
		function openImage(image) {
			if(TweenImage != null)
				TweenImage.reverse()
			var tl = new TimelineLite({paused: true})
			TweenImage = tl.to($(image), 1, {
				left: "11%",
				right: "11%",
				bottom: "11%",
				top: "11%",
				width: $(window).width() * .89,
				height: $(window).height() * .89
			})
			TweenImage.play()
		}
		
		function closeImage() {
			TweenImage.reverse()
			TweenImage = null
		}
</script>
<div class="scene">
	<div class="page-title" onclick="showGallery()">
		<img alt="" src="static/img/icons/art-gallery.svg">
		<h2>Gallery</h2>
	</div>
	<div class="row gallery-home">
		<div class="col-md-6" onclick="readFiles(2018)">
			<img alt="" src="static/img/icons/art-gallery.svg">
			<h2>Gallery 2018</h2>
		</div>
		<div class="col-md-6" onclick="readFiles(2019)">
			<img alt="" src="static/img/icons/art-gallery.svg">
			<h2>Gallery 2019</h2>
		</div>
	</div>
	<div class="gallery-container-2019">
		<div class="roll-camera">
			<div class="move-camera 2019"></div>
			<div class="to-gallery-2018">Gallery 2018</div>
			<!-- /camera -->
		</div>
	</div>
	<div class="gallery-container-2018">
		<div class="roll-camera">
			<div class="move-camera 2018"></div>
			<div class="to-gallery-2019">Gallery 2019</div>
		</div>
	</div>
</div>
<script>
showGallery()
</script>
